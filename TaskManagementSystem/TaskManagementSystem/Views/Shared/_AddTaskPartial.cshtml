<!-- ADD TASK MODAL
       ============================================= -->
<!-- Modal-->
@{
    var today = DateTime.UtcNow.AddHours(2);
}

<div class="modal fade" id="addTask1" role="dialog" ng-controller="addTaskShortcutCtr" ng-cloak>
    <div class="modal-dialog" ng-show="{{userCanCreateEditHere}}">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header task-title">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title ">Add Task</h4>
            </div>
            <div class="col-md-12 inside-box">

                <div class="col-xs-12">

                    <form id="addingatask" name="addingatask">
                    <div class="col-md-12" >
                        <div class="form-group">

                            <!-- DESCRIPTION FILL -->
                            <!---TEXT AREA DESCRIPTION-->

                            <label for="form_message"> Task Title</label>
                            <div ng-class="{ 'has-error' : addingatask.addTaskShortcutTitle.$invalid && !addingatask.addTaskShortcutTitle.$pristine }">
                                <textarea id="addTaskShortcutTitle" name="addTaskShortcutTitle" class="form-control descrip" placeholder="Message for me *" rows="1" required="required" ng-model="model.addTaskShortcutTitle" ng-required="true"></textarea>
                                <span class="help-block" ng-show="addingatask.addTaskShortcutTitle.$error.required && addingatask.addTaskShortcutTitle.$dirty && addingatask.addTaskShortcutTitle.$invalid && addingatask.addTaskShortcutTitle.$pristine"> "Please enter the title" </span>
                             </div>


                            <label for="form_message"> Description</label>
                                <div ng-class="{ 'has-error' : addingatask.addTaskShortcutDesc.$invalid && !addingatask.addTaskShortcutDesc.$pristine }">
                                 <textarea id="addTaskShortcutDesc" name="addTaskShortcutDesc" class="form-control descrip" placeholder="Message for me *" rows="4" required="required" ng-model="model.addTaskShortcutDesc"></textarea>
                                    <span class="help-block" ng-show="addingatask.addTaskShortcutDesc.$error.required && addingatask.addTaskShortcutDesc.$dirty && addingatask.addTaskShortcutDesc.$invalid && addingatask.addTaskShortcutDesc.$pristine"> "Please enter the description" </span>
                                </div>
                                 <div class="help-block with-errors"></div>

                                <label for="form_date"><i class="fa fa-calendar"></i> Due Date</label>
                                <div ng-class="{ 'has-error' : addingatask.addTaskShortcutDate.$invalid && !addingatask.addTaskShortcutDate.$pristine }">
                                    <input class="form-control" placeholder="yyyy-MM-ddTHH:mm:ss" type="datetime-local"  name="addTaskShortcutDate" id="addTaskShortcutDate" min="{{mindate}}" ng-min="mindate" ng-model="model.addTaskShortcutDate">
                                    <span class="help-block" ng-show="addingatask.addTaskShortcutDate.$error.required && addingatask.addTaskShortcutDate.$dirty && addingatask.addTaskShortcutDate.$invalid && addingatask.addTaskShortcutDate.$pristine"> "Please enter the date" </span>
                                </div>
                                <div class="help-block with-errors"></div>
                                <!---/TEXT AREA DESCRIPTION-->

                                <div class="row">
                                    <div class="">

                                        <!--SAVE BUTTON-->
                                        <div class="col-md-3">

                                            <input type="submit" class="btn btn-info btn-send" value="SAVE" ng-click="addShortCutTask()">
                                        </div>

                                        <div class="col-md-2">

                                            <button href="#" class="btn dropdown-toggle" data-toggle="dropdown">
                                                <i class="fa fa-user-plus" aria-hidden="true"></i>
                                            </button>
                                            <div class="dropdown-menu member-picker">
                                                <input class="form-control" type="text" autocomplete="off"
                                                       placeholder="Add Member"
                                                       id="MemeberResult"
                                                       ng-model="model.quickSearchTerm"
                                                       ng-keyup="quickmemberSearchClick(model.quickSearchTerm)" />

                                                <div class="auto-complete-container auto-complete-absolute-container" ng-show="quickshowResult" style="width: 280px; margin-right:40px;">
                                                    <ul class="auto-complete-results">
                                                        <li class="auto-complete-item" ng-repeat="item in quicklistResultItems track by $index" ng-click="quickItemSelected($index)">
                                                            <div><span>{{item}}</span></div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/SAVE BUTTON-->
                                        <!--MEMBER LIST-->
                                        <div class="col-md-7 member-list-add ">
                                            <ul class="">
                                                <li ng-repeat="(key, user) in model.Users">
                                                    <a ng-click="deleteuser(key)" style="top:0;left:0;"><i class="fa fa-times" style="height:20px;width:20px;font-size:15px;padding:1px"></i></a>
                                                    <a href="#">
                                                        <img ng-src="{{user.finalUserPath}}" class="img-responsive" ng-attr-title="{{user.displayname}}" altSrc="/TaskManagementImages/defaultUser.png" onerror="this.src = $(this).attr('altSrc')">
                                                    </a>

                                                </li>
                                            </ul>

                                        </div>

                                        <!--/MEMBER LIST-->
                                    </div>
                                </div>

                            </div>


                    </div>
                    </form>
                </div>

            </div>
            <div class="modal-footer">

            </div>
        </div>

    </div>
</div>
<script>
    var today = '@today';
</script>
<!---MODAL END---->
<!-- END ADD TASK MODAL
  ============================================= -->
